(function(){'use strict';var e="function"==typeof Object.create?Object.create:function(a){function c(){}c.prototype=a;return new c},f;if("function"==typeof Object.setPrototypeOf)f=Object.setPrototypeOf;else{var g;a:{var h={g:!0},k={};try{k.__proto__=h;g=k.g;break a}catch(a){}g=!1}f=g?function(a,c){a.__proto__=c;if(a.__proto__!==c)throw new TypeError(a+" is not extensible");return a}:null}var l=f;
function m(a,c){a.prototype=e(c.prototype);a.prototype.constructor=a;if(l)l(a,c);else for(var b in c)if("prototype"!=b)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(c,b);d&&Object.defineProperty(a,b,d)}else a[b]=c[b]}var n=this||self;
function p(a){var c=typeof a;if("object"==c)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return c;var b=Object.prototype.toString.call(a);if("[object Window]"==b)return"object";if("[object Array]"==b||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==b||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==c&&"undefined"==typeof a.call)return"object";return c}function q(a){var c=["mys","design","init"],b=n;c[0]in b||"undefined"==typeof b.execScript||b.execScript("var "+c[0]);for(var d;c.length&&(d=c.shift());)c.length||void 0===a?b[d]&&b[d]!==Object.prototype[d]?b=b[d]:b=b[d]={}:b[d]=a}function r(a,c){function b(){}b.prototype=c.prototype;a.prototype=new b;a.prototype.constructor=a};function t(){}var u="function"==typeof Uint8Array,v=[];function w(a){if(2<a.c){var c=2+a.h,b=a.a[c];a=b===v?a.a[c]=[]:b}else a.b?(b=a.b[2],a=b===v?a.b[2]=[]:b):a=void 0;return null==a?0:a}function x(a){if(a.f)for(var c in a.f){var b=a.f[c];if("array"==p(b))for(var d=0;d<b.length;d++)b[d]&&y(b[d]);else b&&y(b)}}function y(a){x(a);return a.a}t.prototype.toString=function(){x(this);return this.a.toString()};function D(a){var c=a;a=E;this.f=null;c||(c=[]);this.h=-1;this.a=c;a:{if(c=this.a.length){--c;var b=this.a[c];if(!(null===b||"object"!=typeof b||"array"==p(b)||u&&b instanceof Uint8Array)){this.c=c- -1;this.b=b;break a}}this.c=Number.MAX_VALUE}if(a)for(c=0;c<a.length;c++)if(b=a[c],b<this.c)b+=-1,this.a[b]=this.a[b]||v;else{var d=this.c+-1;this.a[d]||(this.b=this.a[d]={});this.b[b]=this.b[b]||v}}r(D,t);var E=[8];function F(){};function G(a,c){a=a.getElementsByTagName("META");for(var b=0;b<a.length;++b)if(a[b].getAttribute("name")===c)return a[b].getAttribute("content");return""};function H(a,c){this.b=a;this.a=c;a=G(c,"namespace");if(!a){a="ns-"+Math.random().toString(36).substr(2,5);a:{for(var b=c.getElementsByTagName("META"),d=0;d<b.length;++d)if("namespace"===b[d].getAttribute("name")){b[d].setAttribute("content",a);break a}b=document.createElement("META");b.setAttribute("name","namespace");b.setAttribute("content",a);c.appendChild(b)}}}H.prototype.dispatchEvent=function(a,c){a=null==c?new CustomEvent(a):new CustomEvent(a,{detail:c});this.a.dispatchEvent(a)};function I(){this.a={}}I.prototype.set=function(a,c){this.a[a]=c};I.prototype.get=function(a){return this.a[a]};function J(a,c){if(c){c=JSON.parse(c);for(var b in c)a.set(b,c[b])}};function K(a){this.context=a;this.a=new I}m(K,F);function L(a,c){this.b=a;this.a=c}
function M(a){if(!mys.Engine)throw Error("MysidiaJsError[2] ");var c=a.a.b,b=a.a.a;J(a.b.a,G(b,"runtime_data"));var d=G(b,"render_config");if(!d)throw Error("MysidiaJsError[35] ");d=new D(d?JSON.parse(d):null);N(a,d);var z=mys.Engine.create(c,b,y(d)),A=0;b.addEventListener("browserRender",function(){++A;if(1==A)a.a.dispatchEvent("overallStart"),z.enable().then(function(){a.a.dispatchEvent("overallQuiet")});else{var B=b.clientWidth,C=b.clientHeight;B&&C&&z.enable(B,C)}})}
function N(a,c){2!=w(c)&&(a=a.a.a,a.addEventListener("browserStart",function(){}),a.addEventListener("browserReady",function(){}),a.addEventListener("browserQuiet",function(){}))};function O(){K.apply(this,arguments)}m(O,K);function P(){O.apply(this,arguments)}m(P,O);function Q(){P.apply(this,arguments)}m(Q,P);(function(a){q(function(c,b){c=new H(c,b);b=a(c);M(new L(b,c))})})(function(a){return new Q(a)});}).call(this);
